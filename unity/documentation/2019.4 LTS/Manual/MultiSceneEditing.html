<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script> -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="多场景编辑 - Unity 手册">
<title>多场景编辑 - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2019.4/uploads/Main/MultiSceneEditingOpenSceneAdditive.png">
<meta name="description" content="多场景编辑允许同时在 Editor 中打开多个场景，并简化运行时场景管理。">
<meta property="og:description" content="多场景编辑允许同时在 Editor 中打开多个场景，并简化运行时场景管理。">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'MultiSceneEditing';
      if(!page) page = 'index';
      var version = '2019.4';
      var docs_versions = [{version: '2021.1',version_string: '2021.1',supported: true},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: true},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2019.4/Manual/MultiSceneEditing.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2019.4/Manual/MultiSceneEditing.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2019.4/Manual/MultiSceneEditing.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2019.4/Manual/MultiSceneEditing.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2019.4/Manual/MultiSceneEditing.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2019.4/Manual/MultiSceneEditing.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2019.4/Manual/MultiSceneEditing.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2019.4/Documentation/Manual/MultiSceneEditing.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/MultiSceneEditing.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/MultiSceneEditing.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/MultiSceneEditing.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/MultiSceneEditing.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/MultiSceneEditing.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/MultiSceneEditing.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/MultiSceneEditing.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/MultiSceneEditing.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/MultiSceneEditing.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/MultiSceneEditing.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/MultiSceneEditing.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/MultiSceneEditing.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/MultiSceneEditing.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/MultiSceneEditing.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/MultiSceneEditing.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/MultiSceneEditing.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/MultiSceneEditing.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.4/Documentation/Manual/MultiSceneEditing.html">English</a></li>
<li><a data-lang="cn" href="/cn/2019.4/Manual/MultiSceneEditing.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2019.4/Manual/MultiSceneEditing.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.4/Manual/MultiSceneEditing.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.4/Manual/MultiSceneEditing.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2019.4/Manual/MultiSceneEditing.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/MultiSceneEditing.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/MultiSceneEditing.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/MultiSceneEditing.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/MultiSceneEditing.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/MultiSceneEditing.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/MultiSceneEditing.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/MultiSceneEditing.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/MultiSceneEditing.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/MultiSceneEditing.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/MultiSceneEditing.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/MultiSceneEditing.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/MultiSceneEditing.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/MultiSceneEditing.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/MultiSceneEditing.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/MultiSceneEditing.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/MultiSceneEditing.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/MultiSceneEditing.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity 用户手册 (2019.4 LTS)</a></li>
<li><a href="UnityOverview.html">在 Unity 中操作</a></li>
<li><a href="EditorFeatures.html">编辑器功能</a></li>
<li>多场景编辑</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="SmartMerge.html"></a></span><div class="tip">Smart Merge</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="CommandLineArguments.html"></a></span><div class="tip">命令行参数</div>
</div>
</div></div>
<h1>多场景编辑</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>多场景编辑允许同时在 Editor 中打开多个场景，并简化运行时场景管理。</p>

<p>在 Editor 中打开多个场景的功能允许创建大型流媒体世界，并在协作场景编辑时改进工作流程。</p>

<p>本页介绍以下内容：</p>

<ul>
<li>Editor 中的多场景编辑集成</li>
<li>Editor 脚本和运行时脚本 API</li>
<li>当前的已知问题</li>
</ul>

<h2>在 Editor 中</h2>

<p>要打开新场景并将其添加到层级视图中的当前场景列表，请在场景资源的上下文菜单中选择 <em>Open Scene Additive</em>，或将一个或多个场景从 Project 窗口拖动到 Hierarchy 窗口中。</p>

<figure>
<img src="../uploads/Main/MultiSceneEditingOpenSceneAdditive.png" alt="Open Scene Additive 会将所选场景资源添加到层级视图中显示的当前场景">
<figcaption>Open Scene Additive 会将所选场景资源添加到层级视图中显示的当前场景</figcaption>
</figure>

<p>在 Editor 中打开多个场景时，每个场景的内容将在 Hierarchy 窗口中单独显示。每个场景的内容都显示在场景分隔栏下方，该分隔栏会显示场景的名称及其保存状态。</p>

<figure>
<img src="../uploads/Main/MultiSceneEditingHierarchy.png" alt="Hierarchy 窗口显示了同时打开的多个场景">
<figcaption>Hierarchy 窗口显示了同时打开的多个场景</figcaption>
</figure>

<p>场景存在于层级视图中时，可<strong>加载</strong>或<strong>卸载</strong>场景以显示或隐藏每个场景中包含的游戏对象。此操作与在 Hierarchy 窗口中<strong>添加</strong>和<strong>删除</strong>场景的操作不同。</p>

<p>层级视图中的场景分隔栏可折叠场景内容，如果加载了大量场景，此功能有助于导航层级视图。</p>

<p>处理多个场景时，每个被修改的场景都需要保存其更改，因此可能有多个未保存的场景同时处于打开状态。未保存更改的场景将在场景分隔栏中的名称旁边显示一个星号。</p>

<figure>
<img src="../uploads/Main/MultiSceneEditingUnsavedScene.png" alt="场景分隔栏中的星号表示此场景有未保存的更改">
<figcaption>场景分隔栏中的星号表示此场景有未保存的更改</figcaption>
</figure>

<p>每个场景都可以通过分隔栏中的上下文菜单进行单独保存。从 File 菜单中选择“Save Scene”或按 Ctrl/Cmd + S 将保存对<strong>所有</strong>打开场景的更改。</p>

<p>场景分割栏中的上下文菜单允许对所选场景执行其他操作。</p>

<h4>加载的场景的场景分割栏菜单</h4>

<figure>
<img src="../uploads/Main/MultiSceneEditingLoadedSceneMenu.png" alt="">
</figure>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Set Active Scene</strong></td>
	<td style="text-align:left;">This allows you to specify which scene new Game Objects are created/instantiated in. There must always be one scene marked as the active scene</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Save Scene</strong></td>
	<td style="text-align:left;">Saves the changes to the selected scene only.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Save Scene As</strong></td>
	<td style="text-align:left;">Saves the selected scene (along with any current modifications) as a new Scene asset.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Save All</strong></td>
	<td style="text-align:left;">Saves changes to all scenes.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Unload Scene</strong></td>
	<td style="text-align:left;">Unloads the scene, but keeps the scene in the Hierarchy window.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Remove Scene</strong></td>
	<td style="text-align:left;">Unloads and removes the scene from the Hierarchy window.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Select Scene Asset</strong></td>
	<td style="text-align:left;">Selects the scene’s asset in the Project window.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>GameObject</strong></td>
	<td style="text-align:left;">Provides a sub-menu allowing you to create GameObjects in the selected scene. The menu mirrors the creatable items available in Unity’s main GameObject menu. (shown below)</td>
</tr>
</tbody>
</table>

<figure>
<img src="../uploads/Main/MultiSceneEditingGameObjectCreateMenu.png" alt="场景分割栏菜单中的 GameObject 子菜单">
<figcaption>场景分割栏菜单中的 GameObject 子菜单</figcaption>
</figure>

<h4>卸载的场景的场景分割栏菜单：</h4>

<figure>
<img src="../uploads/Main/MultiSceneEditingUnloadedSceneMenu.png" alt="">
</figure>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Load Scene</strong></td>
	<td style="text-align:left;">Loads the scene’s contents</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Remove Scene</strong></td>
	<td style="text-align:left;">Remove the scene from the Hierarchy window.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Select Scene Asset</strong></td>
	<td style="text-align:left;">Selects the scene’s asset in the Project window.</td>
</tr>
</tbody>
</table>

<h2>烘焙包含多个场景的光照贴图</h2>

<p>要一次烘焙多个场景的<strong>光照贴图数据</strong>，应打开要烘焙的场景，在 Lighting 窗口中关闭“Auto”模式，然后单击 Build 按钮以构建光照。</p>

<p>光照计算的输入是所有场景中的静态几何体和光源。因此，阴影和 GI 光反弹将适用于所有场景。但是，光照贴图和实时 GI 数据拆分为每个场景单独加载/卸载的数据。光照贴图和实时 GI 数据图集在场景之间拆分。这意味着，场景之间的光照贴图永远不会共享，卸载场景时可以放心卸载光照贴图。目前始终会共享光照探针数据，并会同时加载所有烘焙在一起的场景的所有光照探针。</p>

<p>或者，可在 Editor 脚本中使用 <a href="../ScriptReference/Lightmapping.BakeMultipleScenes.html">Lightmapping.BakeMultipleScenes</a> 函数自动为多个场景构建光照贴图。</p>

<h2>烘焙包含多个场景的导航网格数据</h2>

<p>要一次烘焙多个场景的<strong>导航网格数据</strong>，应打开要烘焙的场景，然后单击 Navigation 窗口中的 Bake 按钮。导航网格数据将烘焙到单个资源中，由所有已加载的场景共享。数据将保存到与当前活动场景名称匹配的文件夹中（例如 ActiveSceneName/NavMesh.asset）。所有加载的场景都将共享此导航网格资源。烘焙导航网格后，应保存受影响的场景，使场景到导航网格的引用持久化。</p>

<p>或者，可在 Editor 脚本中使用 <a href="../ScriptReference/AI.NavMeshBuilder.BuildNavMeshForMultipleScenes.html">NavMeshBuilder.BuildNavMeshForMultipleScenes</a> 函数自动为多个场景构建导航网格数据。</p>

<h2>烘焙包含多个场景的遮挡剔除数据</h2>

<p>要一次烘焙多个场景的<strong>遮挡剔除数据</strong>，请打开要烘焙的场景，打开遮挡剔除窗口（菜单：__Window__ &gt; <strong>Rendering</strong> &gt; <strong>Occlusion Culling__），然后单击 </strong>Bake__ 按钮。遮挡数据将保存到与当前活动场景名称匹配的文件夹内一个名为 <em>OcclusionCullingData.asset</em> 的资源中。例如：_Assets/ActiveSceneName/OcclusionCullingData.asset_。在每个打开的场景中会添加对数据的引用。烘焙遮挡剔除后，应保存受影响的场景，使场景到遮挡的引用持久化。</p>

<p>每当以累加方式加载场景时，如果该场景具有与活动场景相同的遮挡数据引用，则会从遮挡数据中初始化该场景的静态渲染器和入口剔除信息。此后，遮挡剔除系统认为所有静态渲染器和入口都已烘焙到单个场景中。</p>

<h2>播放模式</h2>

<p>在播放模式下，在层级视图中有多个场景时，将显示一个额外的场景，名为 <em>DontDestroyOnLoad</em>。</p>

<p>在 Unity 5.3 之前，要在播放模式下实例化的任何标记为“DontDestroyOnLoad”的对象仍将显示在层级视图中。这些对象不被视为任何场景的一部分，但是为了让 Unity 仍然显示这些对象，并让您检查这些对象，这些对象现在显示为特殊 DontDestroyOnLoad 场景的一部分。</p>

<p>您无法访问 DontDestroyOnLoad 场景，该场景在运行时不可用。</p>

<h2>特定于场景的设置</h2>

<p>许多设置是特定于每个场景的。如下：</p>

<ul>
<li>RenderSettings 和 LightmapSettings（均位于 Lighting 窗口中）</li>
<li>导航网格设置</li>
<li>遮挡剔除窗口中的场景设置</li>
</ul>

<p>具体工作原理是每个场景将管理自己的设置，只有与该场景相关的设置才会保存到场景文件中。</p>

<p>如果打开了多个场景，则用于渲染和导航网格的设置是<strong>活动场景</strong>中的设置。这意味着，如果要更改场景的设置，必须仅打开一个场景并更改设置，或者使相关场景成为活动场景并更改设置。</p>

<p>如果在 Editor 中或在运行时切换活动场景，则会应用新场景中的所有设置并替换所有先前的设置。</p>

<h2>脚本</h2>

<h3>Editor 脚本</h3>

<p>对于 Editor 脚本，我们提供了一个 <a href="../ScriptReference/SceneManagement.Scene.html">Scene 结构</a> 和 <a href="../ScriptReference/SceneManagement.EditorSceneManager.html">EditorSceneManager</a> API 以及一个 <a href="../ScriptReference/SceneManagement.SceneSetup.html">SceneSetup</a> 实用程序类。</p>

<p><a href="../ScriptReference/SceneManagement.Scene.html">Scene 结构</a>在 Editor 中和运行时都可用，并包含一些与场景本身相关的只读属性，例如其名称和资源路径。</p>

<p><a href="../ScriptReference/SceneManagement.EditorSceneManager.html">EditorSceneManager 类</a>仅在 Editor 中可用。该类派生自 SceneManager，并具有许多函数，使用这些函数即可通过 Editor 脚本实现上述所有多场景编辑功能。</p>

<p><a href="../ScriptReference/SceneManagement.SceneSetup.html">SceneSetup 类</a>是一个小实用程序类，用于存储有关当前层级视图中的场景的信息。</p>

<p><a href="../ScriptReference/Undo.html">Undo</a> 和 <a href="../ScriptReference/PrefabUtility.html">PrefabUtility</a> 类已扩展为支持多个场景。现在可以使用 <a href="../ScriptReference/PrefabUtility.InstantiatePrefab.html">PrefabUtility.InstantiatePrefab</a>
在给定场景中实例化预制件，并可使用 <a href="../ScriptReference/Undo.MoveGameObjectToScene.html">Undo.MoveGameObjectToScene</a>
以不可撤销的方式将对象移动到场景的根目录。</p>

<p><strong>注意</strong>：<em>要使用 <code>Undo.MoveGameObjectToScene</code>，必须确保游戏对象已经位于当前场景的根目录中。</em></p>

<h3>运行时脚本</h3>

<p>对于运行时脚本，可在 <a href="../ScriptReference/SceneManagement.SceneManager.html">SceneManager</a> 类中找到用于处理多个场景的函数（如 <strong>LoadScene</strong> 和 <strong>UnloadScene</strong>）。</p>

<h2>注意</h2>

<p>在 File 菜单中，<em>Save Scene As</em> 将仅保存活动场景。<em>Save Scene</em> 将保存所有已修改的场景，并会提示命名无标题场景（如果存在）。</p>

<figure>
<img src="../uploads/Main/MultiSceneEditingProjectMenuCreateScene.png" alt="通过 Project 窗口的 Create 菜单创建新的场景资源">
<figcaption>通过 Project 窗口的 Create 菜单创建新的场景资源</figcaption>
</figure>

<h2>提示和技巧</h2>

<p>通过在拖动场景时按住 Alt，可将场景添加到层级视图，同时使其保持_卸载_状态。这样允许在稍后需要时再加载场景。</p>

<p>可使用 Project 窗口中的 <em>Create</em> 菜单创建新场景。新场景将包含游戏对象的默认设置。</p>

<p>为避免每次重新启动 Unity 时都必须设置层级视图，或为了方便存储不同的设置，可使用 <a href="../ScriptReference/SceneManagement.EditorSceneManager.GetSceneManagerSetup.html">EditorSceneManager.GetSceneManagerSetup</a> 获取一个描述当前设置的 SceneSetup 对象列表。然后，可将这些对象序列化为 ScriptableObject 或其他对象以及可能要存储的有关场景设置的所有其他信息。要恢复层级视图，只需重新创建 SceneSetup 列表并使用 <a href="../ScriptReference/SceneManagement.EditorSceneManager.RestoreSceneManagerSetup.html">EditorSceneManager.RestoreSceneManagerSetup</a>。</p>

<p>若要在运行时获取加载的场景列表，只需使用 <a href="../ScriptReference/SceneManagement.SceneManager.GetSceneAt.html">GetSceneAt</a> 获取 sceneCount 并遍历这些场景。</p>

<p>可通过 <a href="../ScriptReference/GameObject-scene.html">GameObject.scene</a> 获取游戏对象所属的场景，并可使用 <a href="../ScriptReference/SceneManagement.SceneManager.MoveGameObjectToScene.html">SceneManager.MoveGameObjectToScene</a> 将游戏对象移动到场景的根目录。</p>

<p>建议避免使用 DontDestroyOnLoad 来保持需要在多次场景加载后仍存在的管理器游戏对象。相反，应创建一个包含所有管理器的<strong>管理器场景</strong>，并使用 <a href="../ScriptReference/SceneManagement.SceneManager.LoadScene.html">SceneManager.LoadScene(<em>&lt;path&gt;</em>, LoadSceneMode.Additive)</a> 和 <a href="../ScriptReference/SceneManagement.SceneManager.UnloadScene.html">SceneManager.UnloadScene</a> 来管理游戏进度。</p>

<h2>已知问题</h2>

<ul>
<li>在编辑模式下不支持并会阻止跨场景引用。在播放模式下允许这种引用，因为无法保存场景。</li>
</ul>

<hr>

<p><span class="page-edit"> 2017–10–24 页面已修订</span></p>
<!-- area:authoring -->
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="SmartMerge.html"></a></span><div class="tip">Smart Merge</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="CommandLineArguments.html"></a></span><div class="tip">命令行参数</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2020 Unity Technologies. Publication 2019.4</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
