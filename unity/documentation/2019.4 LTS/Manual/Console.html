<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Console 窗口 - Unity 手册">
<title>Console 窗口 - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2019.4/uploads/Main/Console.png">
<meta name="description" content="Console 窗口显示 Unity 生成的错误、警告和其他消息。">
<meta property="og:description" content="Console 窗口显示 Unity 生成的错误、警告和其他消息。">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'Console';
      if(!page) page = 'index';
      var version = '2019.4';
      var docs_versions = [{version: '2021.1',version_string: '2021.1',supported: true},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: true},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2019.4/Manual/Console.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2019.4/Manual/Console.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2019.4/Manual/Console.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2019.4/Manual/Console.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2019.4/Manual/Console.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2019.4/Manual/Console.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2019.4/Manual/Console.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2019.4/Documentation/Manual/Console.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/Console.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/Console.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/Console.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/Console.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/Console.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/Console.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/Console.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/Console.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/Console.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/Console.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/Console.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/Console.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/Console.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/Console.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/Console.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/Console.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/Console.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.4/Documentation/Manual/Console.html">English</a></li>
<li><a data-lang="cn" href="/cn/2019.4/Manual/Console.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2019.4/Manual/Console.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.4/Manual/Console.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.4/Manual/Console.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2019.4/Manual/Console.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/Console.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/Console.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/Console.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/Console.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/Console.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/Console.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/Console.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/Console.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/Console.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/Console.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/Console.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/Console.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/Console.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/Console.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/Console.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/Console.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/Console.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity 用户手册 (2019.4 LTS)</a></li>
<li><a href="ScriptingSection.html">脚本</a></li>
<li><a href="ScriptingTools.html">脚本工具</a></li>
<li>Console 窗口</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ScriptingTools.html"></a></span><div class="tip">脚本工具</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="LogFiles.html"></a></span><div class="tip">日志文件</div>
</div>
</div></div>
<h1>Console 窗口</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p><strong>Console</strong> 窗口显示 Unity 生成的错误、警告和其他消息。</p>

<p>还可以使用 <a href="../ScriptReference/Debug.Log.html">Debug.Log</a>、<a href="../ScriptReference/Debug.LogWarning.html">Debug.LogWarning</a> 和 <a href="../ScriptReference/Debug.LogError.html">Debug.LogError</a> 函数，在控制台中显示自定义的消息。</p>

<p>要从 Unity 的主菜单中打开控制台，请选择 <strong>Window &gt; General &gt; Console</strong>。</p>

<figure>
<img src="../uploads/Main/Console.png" alt="">
</figure>

<p><strong>A.</strong> Console 窗口菜单包含了用于<a href="#LogFiles">打开日志文件</a>、控制列表中显示的<a href="#LineCount">消息数量</a>以及设置<a href="#StackTraceLogging">堆栈跟踪</a>的选项。</p>

<p><strong>B.</strong> Console 工具栏包含用于控制显示的消息数量以及<a href="#Search">搜索和过滤</a>消息的选项。</p>

<p><strong>C.</strong> 控制台列表针对每条记录的消息显示一个条目。<br><br>选择一条消息可在详细信息区域中显示其完整文本。您可以选择在这里显示每条消息的多少行。<br><br>请参阅下面的<a href="#LineCount">调整行计数</a>，以获取更多信息。</p>

<p><strong>D.</strong> 详细信息区域显示所选消息的全文。<br><br>如果启用了<a href="#StackTraceLogging">堆栈跟踪</a>，那么对代码文件中特定行的引用将在此处显示为可点击的链接。</p>

<h2>Console 工具栏选项</h2>

<p>Console 窗口的工具栏包含用于控制显示的消息数量以及搜索和过滤消息的选项。</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2">选项：</th>
	<th style="text-align:left;">功能：</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Clear</strong></td>
	<td style="text-align:left;">移除从代码中生成的所有消息，但会保留编译器错误。</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Collapse</strong></td>
	<td style="text-align:left;">仅显示重复消息的第一次出现。<br><br>有时在每次帧更新时会生成的运行时错误（例如 null 引用），此选项在这种情况下非常有用。</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Clear On Play</strong></td>
	<td style="text-align:left;">每当进入播放模式时就会自动清空控制台。</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Clear on Build</strong></td>
	<td style="text-align:left;">在构建项目时清空控制台。</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Error Pause</strong></td>
	<td style="text-align:left;">只要从脚本中调用了 <a href="../ScriptReference/Debug.LogError.html"><code>Debug.LogError</code></a> 便暂停回放。<br><br>如果您希望在执行中的特定时刻冻结回放并检查场景，那么此选项很有用。<br><br>当调用 <a href="../ScriptReference/Debug.Log.html"><code>Debug.Log</code></a> 时，此选项不会暂停回放。</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>[Attach-to-Player]</strong></td>
	<td style="text-align:left;">打开一个下拉菜单，其中包含的选项可用于连接到运行在远程设备上的开发版以及在控制台中显示其播放器日志。<br><br>此选项被标记为目标开发版的名称（也就是 Console 窗口中显示的日志的版本）。如果控制台未连接到远程版本，则标记为 <strong>Editor</strong>，以表明 Console 窗口中显示的日志是来自本地 Unity Editor。</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;">Player Logging</td>
	<td style="text-align:left;">如果控制台连接到远程开发版，则此选项将对版本启用播放器日志记录。<br><br>禁用此选项将暂停日志记录，但控制台仍将连接到目标版本。<br><br>禁用此选项还会隐藏此下拉菜单中的其余选项。<br><br>选择在 <strong>Player Logging</strong> 下方列出的任何版本可在 Console 窗口中显示其日志。</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;">Editor</td>
	<td style="text-align:left;">如果控制台连接到远程开发版本，则选择此选项可显示来自本地 Unity Player 的日志，而不是来自远程版本的日志。</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;">&lt;Enter IP&gt;</td>
	<td style="text-align:left;">打开 <strong>Enter Player</strong> IP 对话框，可以在此对话框中指定远程设备上开发版本的 IP 地址。<br><br>单击对话框中的 <strong>Connect</strong> 按钮可连接到版本，并可将其添加到下拉菜单底部的开发版本列表中。</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;">[DEVELOPMENT BUILDS]</td>
	<td style="text-align:left;">列出可用的开发版本。这包括自动检测到的版本以及使用 <strong>Enter IP</strong> 选项添加的版本。</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">
<img src="../uploads/Main/ConsoleFilterMessage.png" alt=""><strong>消息开关</strong>
</td>
	<td style="text-align:left;">显示控制台中的消息数量。单击可显示/隐藏消息。</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">
<img src="../uploads/Main/ConsoleFilterWarning.png" alt=""><strong>警告开关</strong>
</td>
	<td style="text-align:left;">显示控制台中的警告数量。单击可显示/隐藏警告。</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">
<img src="../uploads/Main/ConsoleFilterError.png" alt=""><strong>错误开关</strong>
</td>
	<td style="text-align:left;">显示控制台中的错误数量。单击可显示/隐藏错误。</td>
</tr>
</tbody>
</table>

<p><a name="Search"></a></p>

<h2>搜索和过滤控制台输出</h2>

<p>可以从控制台搜索栏中搜索包含特定关键字的控制台消息。在输入搜索词时，控制台将过滤消息以仅显示包含匹配文本的消息。如果消息文本中的第一个匹配项是在消息的可见部分中，控制台将高亮显示第一个匹配项（请参阅下文<a href="#LineCount">调整行计数</a>）。但控制台不会高亮显示同一消息中的后续匹配项。</p>

<figure>
<img src="../uploads/Main/ConsoleSearch.png" alt="搜索词语animation会高亮显示每条消息中的第一个匹配项（蓝色），但不会高亮显示后续匹配项（红色）">
<figcaption>搜索词语“animation”会高亮显示每条消息中的第一个匹配项（蓝色），但不会高亮显示后续匹配项（红色）</figcaption>
</figure>

<p>可以搜索在任何控制台消息中显示的任何内容，包括数字和特殊字符。例如，您可能希望搜索消息被记录的时间，而不是消息中包含的关键字。</p>

<p>搜索会查找与在搜索栏中键入的内容完全匹配的内容。不能同时搜索两个不同的词语，也不能使用常见的搜索引擎运算符。</p>

<p>还可以按类型来过滤控制台消息。单击搜索栏旁边的按钮以进行切换：</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">按钮</th>
	<th style="text-align:left;">消息类型</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><img src="../uploads/Main/ConsoleFilterMessage.png" alt=""></td>
	<td style="text-align:left;">消息</td>
</tr>
<tr>
	<td style="text-align:left;"><img src="../uploads/Main/ConsoleFilterWarning.png" alt=""></td>
	<td style="text-align:left;">警告</td>
</tr>
<tr>
	<td style="text-align:left;"><img src="../uploads/Main/ConsoleFilterError.png" alt=""></td>
	<td style="text-align:left;">错误</td>
</tr>
</tbody>
</table>

<p><a name="LineCount"></a></p>

<h2>调整行计数</h2>

<p>每个控制台条目的最大长度为 10 行。</p>

<p>要控制每个条目在列表中显示多少行，请单击控制台的菜单按钮，然后从菜单中选择 <strong>Log Entry &gt; [X] Lines</strong>，其中 <strong>[X]</strong> 表示要为每个条目显示的行数。</p>

<figure>
<img src="../uploads/Main/ConsoleAdjustLineCount.png" alt="日志条目行计数">
<figcaption>日志条目行计数</figcaption>
</figure>

<p>行数越大，每个条目显示的文本就越多，但会减少任何给定时间可见的条目数。</p>

<p>行计数不影响控制台搜索功能，该功能总是搜索完整的消息文本。如果匹配的文本位于隐藏的行中，则搜索将返回结果中的消息，但不会展开来显示/高亮显示匹配的文本。可以在详细信息区域看到完整的消息文本，但是匹配的文本不会高亮显示。</p>

<p><a name="StackTraceLogging"></a></p>

<h2>堆栈跟踪日志记录</h2>

<p>Unity 在将消息输出到控制台或日志文件时，可以包括详细的堆栈跟踪信息。在某些情况下，这个功能很有用，例如，当错误消息不太明确时。在这种情况下，堆栈跟踪可以帮助您确定错误的来源。</p>

<h3>托管与非托管堆栈跟踪</h3>

<p>控制台可以提供托管代码和非托管代码的堆栈跟踪信息。</p>

<ul>
<li><p><strong>托管代码</strong>意味着 C# 脚本在 Unity 中运行。其中包括 Unity 附带的脚本、您编写的自定义脚本、Asset Store 插件附带的第三方脚本或者引擎中运行的任何其他类型的 C# 脚本。<br><br>在某些情况下，您可以访问托管代码，并且可以在调试时修改托管代码。在其他情况下，您无法访问托管代码，例如，当托管脚本编译为托管 .dll 时，可以查看托管堆栈跟踪信息，但除非您能够访问原始源代码文件，否则不能修改托管代码。</p></li>
<li><p><strong>非托管代码</strong>表示原生 Unity 引擎代码，或者是直接运行在计算机上或目标版本平台上运行的原生插件中的代码。<br><br>非托管代码通常是从 C 或 C++ 代码编译的。除非您有原生二进制文件的原始源代码，否则无法访问非托管代码。</p></li>
</ul>

<p>在大多数情况下，只使用托管堆栈跟踪来帮助调试 C# 代码。但在某些情况下，完整的堆栈跟踪可能很有用。</p>

<p>例如，非托管堆栈跟踪可以帮助您确定错误是由代码造成，还是由引擎造成。还可以帮助您识别错误来源于引擎的哪个区域。当没有托管堆栈跟踪信息而且错误消息的描述不是非常具体时，此功能尤其有用。</p>

<p><strong>注意：</strong>解析堆栈跟踪（特别是整个堆栈跟踪）是一种资源密集型操作。只有在调试时才应使用这些选项。</p>

<h3>设置堆栈跟踪类型</h3>

<p>要指定在堆栈跟踪中包含的信息详细程度，请单击控制台的菜单按钮，从菜单中选择 <strong>Stack Trace Logging &gt; <em>[MESSAGE TYPE]</em></strong>，其中 <strong><em>[MESSAGE TYPE]</em></strong> 表示您希望包含堆栈跟踪信息的消息类型。然后，选择下列选项之一：</p>

<figure>
<img src="../uploads/Main/ConsoleStackTrace.png" alt="堆栈跟踪日志记录选项">
<figcaption>堆栈跟踪日志记录选项</figcaption>
</figure>

<ul>
<li><p><strong>None</strong>：Unity 不输出堆栈跟踪信息。</p></li>
<li><p><strong>ScriptOnly</strong>：Unity 输出托管代码的堆栈跟踪信息。</p></li>
<li><p><strong>Full</strong>：Unity 输出托管_和_非托管代码的堆栈跟踪信息。</p></li>
</ul>

<p>还可以通过脚本 API 来控制堆栈跟踪日志记录。请参阅关于 <a href="../ScriptReference/Application.SetStackTraceLogType.html">Application.SetStackTraceLogType</a> 的 API 参考文档以了解更多详细信息。</p>

<h3>从堆栈跟踪输出中打开源文件</h3>

<p>选择一条消息并在控制台窗口底部的详细信息区域查看全文时，对代码文件中特定行的堆栈跟踪引用将变为可点击的链接。单击任意链接即可在 IDE 中打开文件并转到引用的行。</p>

<p><a name="LogFiles"></a></p>

<h2>从控制台打开日志文件</h2>

<p>可以从 Console 窗口菜单中打开<a href="LogFiles.html">日志文件</a>。选择 <strong>Open Player Log</strong> 或 <strong>Open Editor Log</strong>。</p>

<h2>过时 API 警告和自动更新</h2>

<p>除了其他消息，Unity 还显示有关在代码中使用过时 API 调用的警告。例如，Unity 曾在 MonoBehaviour 和其他类中使用“快捷方式”来访问常见组件类型。因此，比如说，可使用如下代码来访问对象上的<a href="class-Rigidbody.html">刚体</a>：</p>

<pre><code>    //"rigidbody"变量是类的一部分，未在用户脚本中声明。
        Vector3 v = rigidbody.velocity;
</code></pre>

<p>这些快捷方式已被弃用，因此现在应该使用如下代码：</p>

<pre><code>    // 使用 GetComponent 来访问组件。
        Rigidbody rb = GetComponent&lt;Rigidbody&gt;();
        Vector3 v = rb.velocity;
</code></pre>

<p>控制台检测到过时 API 调用时，Unity 将显示相关的警告消息。双击此消息时，Unity 将自动尝试将已弃用的用法升级到建议的等效用法。</p>

<hr>

<ul>
<li><p><span class="page-edit">2019–03–11 页面已修订</span></p></li>
<li><p><span class="page-history">在 <a href="https://docs.unity3d.com/2017.3/Documentation/Manual/30_search.html?q=newin20173">2017.3</a> 版中添加了日志条目行计数 <span class="search-words">NewIn20173</span></span></p></li>
<li><p><span class="page-history">在 <a href="https://docs.unity3d.com/2019.1/Documentation/Manual/30_search.html?q=newin20191">2019.1</a> 版中添加了搜索栏和可点击堆栈跟踪消息 <span class="search-words">NewIn20191</span></span></p></li>
</ul>
<!-- area:core -->
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ScriptingTools.html"></a></span><div class="tip">脚本工具</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="LogFiles.html"></a></span><div class="tip">日志文件</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2020 Unity Technologies. Publication 2019.4</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
