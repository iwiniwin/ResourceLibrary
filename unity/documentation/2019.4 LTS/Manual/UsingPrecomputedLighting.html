<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script> -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="生成光照数据 - Unity 手册">
<title>生成光照数据 - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2019.4/uploads/GlobalIllumination/BakingJobs.png">
<meta name="description" content="在 Unity 中，预计算光照在后台作为自动过程生成或在用户手动启动时生成。在这些过程运行的同时，仍可以在 Editor 中继续工作。">
<meta property="og:description" content="在 Unity 中，预计算光照在后台作为自动过程生成或在用户手动启动时生成。在这些过程运行的同时，仍可以在 Editor 中继续工作。">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'UsingPrecomputedLighting';
      if(!page) page = 'index';
      var version = '2019.4';
      var docs_versions = [{version: '2021.1',version_string: '2021.1',supported: true},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: true},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2019.4/Manual/UsingPrecomputedLighting.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2019.4/Manual/UsingPrecomputedLighting.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2019.4/Manual/UsingPrecomputedLighting.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2019.4/Manual/UsingPrecomputedLighting.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2019.4/Manual/UsingPrecomputedLighting.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2019.4/Manual/UsingPrecomputedLighting.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2019.4/Manual/UsingPrecomputedLighting.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2019.4/Documentation/Manual/UsingPrecomputedLighting.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UsingPrecomputedLighting.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UsingPrecomputedLighting.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UsingPrecomputedLighting.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UsingPrecomputedLighting.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UsingPrecomputedLighting.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UsingPrecomputedLighting.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UsingPrecomputedLighting.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UsingPrecomputedLighting.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UsingPrecomputedLighting.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UsingPrecomputedLighting.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UsingPrecomputedLighting.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UsingPrecomputedLighting.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UsingPrecomputedLighting.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UsingPrecomputedLighting.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UsingPrecomputedLighting.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UsingPrecomputedLighting.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UsingPrecomputedLighting.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.4/Documentation/Manual/UsingPrecomputedLighting.html">English</a></li>
<li><a data-lang="cn" href="/cn/2019.4/Manual/UsingPrecomputedLighting.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2019.4/Manual/UsingPrecomputedLighting.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.4/Manual/UsingPrecomputedLighting.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.4/Manual/UsingPrecomputedLighting.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2019.4/Manual/UsingPrecomputedLighting.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UsingPrecomputedLighting.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UsingPrecomputedLighting.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UsingPrecomputedLighting.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UsingPrecomputedLighting.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UsingPrecomputedLighting.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UsingPrecomputedLighting.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UsingPrecomputedLighting.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UsingPrecomputedLighting.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UsingPrecomputedLighting.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UsingPrecomputedLighting.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UsingPrecomputedLighting.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UsingPrecomputedLighting.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UsingPrecomputedLighting.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UsingPrecomputedLighting.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UsingPrecomputedLighting.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UsingPrecomputedLighting.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UsingPrecomputedLighting.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity 用户手册 (2019.4 LTS)</a></li>
<li><a href="Graphics.html">图形</a></li>
<li><a href="LightingOverview.html">光照</a></li>
<li><a href="lighting-precomputed-data.html">预计算的光照数据</a></li>
<li>生成光照数据</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="lighting-precomputed-data.html"></a></span><div class="tip">预计算的光照数据</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="LightmapSnapshot.html"></a></span><div class="tip">光照数据资源</div>
</div>
</div></div>
<h1>生成光照数据</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>在 Unity 中，预计算光照在后台作为自动过程生成或在用户手动启动时生成。在这些过程运行的同时，仍可以在 Editor 中继续工作。</p>

<p>预计算过程运行时，Editor 右下角会出现一个蓝色进度条。根据已启用烘焙 GI 还是实时 GI（已弃用），需要完成不同的阶段。有关当前过程的信息会显示在进度条上。</p>

<figure>
<img src="../uploads/GlobalIllumination/BakingJobs.png" alt="">
</figure>

<p>进度条显示 Unity 的预计算的当前状态。</p>

<p>光照预计算的阶段如下：</p>

<p><strong>实时 GI（已弃用）</strong></p>

<p>1.创建几何体 (Create Geometry)
2.布局系统 (Layout Systems)
3.创建系统 (Create Systems)
4.创建图集 (Create Atlas)
5.聚类（Clustering）
6.可见性 (Visibility)
7.光线传输 (Light Transport)
8.四面体化探针 (Tetrahedralize Probes)
9.创建探针集 (Create ProbeSet)</p>

<p><strong>探针 (Probes)</strong></p>

<p>1.环境探针 (Ambient Probes)
2.烘焙/实时参考探针 (Baked/Realtime Ref. Probes)</p>

<p><strong>烘焙 GI (Baked GI)</strong></p>

<p>1.创建几何体 (Create Geometry)
2.镶嵌 (Atlassing)
3.创建烘焙系统 (Create Baked Systems)
4.烘焙资源 (Baked Resources)
5.烘焙 AO (Bake AO)
6.导出烘焙纹理 (Export Baked Texture)
7.烘焙可见性 (Bake Visibility)
8.烘焙直接光照 (Bake Direct)
9.环境光和发光 (Ambient and Emissive)
10.创建烘焙系统 (Create Bake Systems)
11.烘焙运行时 (Bake Runtime)
12.上采样可见性 (Upsampling Visibility)
13.烘焙间接光照 (Bake Indirect)
14.最终收集 (Final Gather)
15.烘焙探针集 (Bake ProbesSet)
16.合成 (Compositing)</p>

<h2>生成数据</h2>

<p>Unity 的预计算光照解决方案仅考虑静态几何体。要开始光照预计算过程，需要在场景中至少将一个游戏对象标记为“静态”。</p>

<p>手动启动预计算时，系统将评估和计算场景光照的所有方面。要自行重新计算并仅烘焙<a href="class-ReflectionProbe.html">反射探针</a>，请在 Lighting 窗口中单击 <strong>Generate Lighting</strong> 按钮附带的下拉菜单。</p>

<p><strong>注意：</strong>使用 <strong>Auto Generate</strong> 模式时，Unity 会将您的光照数据存储在有限大小的临时缓存中。这意味着，当超出缓存的大小时，Unity 会删除旧的光照数据。如果某些场景依赖于已删除的自动生成的光照数据，则在构建项目时可能会出现问题。在这种情况下，您的场景可能在构建的项目中没有正确的光照。因此，在构建游戏之前，应取消选中 __Auto Generate__，并手动为所有场景生成光照数据。Unity 随后会将您的光照数据作为资源文件保存在项目文件夹中，这意味着数据将保存为项目的一部分并包含在您的构建版本中。</p>
<!-- area:graphics -->
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="lighting-precomputed-data.html"></a></span><div class="tip">预计算的光照数据</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="LightmapSnapshot.html"></a></span><div class="tip">光照数据资源</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2020 Unity Technologies. Publication 2019.4</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
